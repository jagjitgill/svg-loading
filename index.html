<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>SVG Loading Animation</title>
        <!-- CSS -->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/css/materialize.min.css">

        <link rel="stylesheet" type="text/css" href="lib/loading.css" />
        <!-- JS -->
        <script src="lib/segment.min.js"></script>
        <script src="lib/loading-button.min.js"></script>
        <style type="text/css"> 
            #demo h1 {
                font-size: 3rem;
            }
            #demo .right, #demo .left {
                float: none !important;
            }
            #demo .demo-row button { 
                min-width: 180px;
                margin-bottom: 15px;
            }
            
            button.demo-button.loading-element svg path.color,
            button.demo-button.loading-element svg path.color2 {
                stroke: #ffffff;
            }
            /*  ADD TO LIB      TODO     */
            .demo-button.loading-element circle.color2 {
                stroke: #ffffff;
                stroke-width: 0.5;
            }
            .demo-button.loading-element.failed circle.color2 {stroke: transparent;}
            button.demo-button.circular-loading.succeed, button.demo-button.circle-loading.succeed, button.demo-button.infinity-loading.succeed {
                color: #fff;
                transition: all 0.25s ease-in;
                transition: all 0.25s ease-in;
            }
            button.demo-button.succeed svg path.color, button.demo-button.failed svg path.color {
                transition: all 0.25s ease-in;
                transition: all 0.25s ease-in;
                stroke: #fff;
            }
            button.demo-button.loading-element.right svg path, button.demo-button.loading-element.left svg path {
                stroke-width: 6;
            }
            button.demo-button.loading-element.top svg path, button.demo-button.loading-element.bottom svg path {
                stroke-width: 3;
            }
            .loading-element.open-loading.circular-loading.bottom, .loading-element.open-loading.circle-loading.bottom {
                padding-bottom: 115px;
            }
            .loading-element.open-loading.circular-loading.top, .loading-element.open-loading.circle-loading.top {
                padding-top: 120px;
                height: auto;
            }
            .loading-element.open-loading.top, .loading-element.open-loading.bottom {
                height: auto;
            }
            #demo button.btn:disabled {
                background-color: #26a69a !important;
                color: #fff !important;
            }

        </style>
    </head>
    <body class="button-demo">
        <nav class="light-blue lighten-1" role="navigation">
            <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">SVG Loading</a>
                <ul class="right hide-on-med-and-down">
                    <li><a href="https://github.com/jagjitgill/svg-loading#readme">Docs</a></li>
                </ul>

                <ul id="nav-mobile" class="side-nav" style="transform: translateX(-100%);">
                    <li><a href="https://github.com/jagjitgill/svg-loading#readme">Docs</a></li>
                </ul>
                <a href="#" data-activates="nav-mobile" class="button-collapse"><i class="material-icons">menu</i></a>
            </div>
        </nav>
        <div class="container" id="demo">
            <div class="row">
                <div class="col s12 m12 l12">
                    <h1 class="header orange-text">SVG loading animation demo</h1>
                </div>
                <hr>
                <br>
                <div class="col s12 m12 l12 demo-row center-align">
                    <p>
                        <em>Click the buttons to start the animation and stop by clicking "Stop"<br>
                        You can also change the position with radio buttons.</em>
                    </p>
                    <br>
                    <button href="#" class="btn btn-large demo-button circular-demo waves-effect waves-light">Circular</button>
                    <button href="#" class="btn btn-large demo-button circle-demo waves-effect waves-light">Circle</button>
                    <button href="#" class="btn btn-large demo-button infinity-demo waves-effect waves-light">Infinity</button>
                    <button href="#" class="btn btn-large demo-button red stop-all-1 lighten-2 waves-effect waves-light">Stop</button>
                </div>
            </div>
            <br><br>
            <div class="row">
                <div class="col s12 m12 l12 demo-row center-align">
                    <strong>Animation Position</strong><br>
                    <p>
                        <input name="position" type="radio" value="left" id="position-left" />
                        <label for="position-left">Left</label>

                        <input name="position" type="radio" value="right" id="position-right" checked />
                        <label for="position-right">Right</label>

                        <input name="position" type="radio" value="top" id="position-top" />
                        <label for="position-top">Top</label>

                        <input name="position" type="radio" value="bottom" id="position-bottom" />
                        <label for="position-bottom">Bottom</label>
                    </p>
                    <p>
                    <a class="orange-text" href="https://github.com/jagjitgill/svg-loading" target="_blank"><u>View on GitHub</u></a>
                        
                    </p>
                </div>
            </div>
            <br><br><br><br>
        </div>
        <script type="text/template" id="circular-loading">
            <svg width="120px" height="120px">
                <path class="outer-path color" d="M 60 60 m 0 -50 a 50 50 0 1 1 0 100 a 50 50 0 1 1 0 -100"></path>
                <path class="inner-path color2" d="M 60 60 m 0 -30 a 30 30 0 1 1 0 60 a 30 30 0 1 1 0 -60"></path>
                <path class="success-path color" d="M 60 10 A 50 50 0 0 1 91 21 L 75 45 L 55 75 L 45 65"></path>
                <path class="error-path color" d="M 60 10 A 50 50 0 0 1 95 25 L 45 75"></path>
                <path class="error-path2 color" d="M 60 30 A 30 30 0 0 1 81 81 L 45 45"></path>
            </svg>
        </script>
        <script type="text/template" id="circle-loading">
            <svg width="120px" height="120px">
                <circle r="50" cx="60" cy="60" fill="none" class="color2"></circle>
                <circle r="30" cx="60" cy="60" fill="none" class="color2"></circle>
                <path class="outer-path color" d="M 60 60 m 0 -50 a 50 50 0 1 1 0 100 a 50 50 0 1 1 0 -100"></path>
                <path class="inner-path color" d="M 60 60 m 0 -30 a 30 30 0 1 1 0 60 a 30 30 0 1 1 0 -60"></path>
                <path class="success-path color" d="M 60 10 A 50 50 0 0 0 16 36  L 45 65 L 55 75 L 75 45"></path>
                <path class="error-path color" d="M 60 10 A 50 50 0 0 0 25 95 L 75 45"></path>
                <path class="error-path2 color" d="M 60 30 A 30 30 0 0 1 81 81 L 45 45"></path>
            </svg>
        </script>
        <script type="text/template" id="infinity-loading">
            <svg width="120px" height="60px">
                <path class="infinity-path color" d="M 30 10 a 20 20 0 1 0 0 40 c 20 0 40 -40 60 -40 a 20 20 0 0 1 0 40 c -20 0 -40 -40 -60 -40"></path>
                <path class="success-path color" d="M 30 10 C 15 10 35 25 45 35 L 55 45 L 75 15"></path>
                <path class="error-path color" d="M 30 10 a 20 20 0 1 0 0 40 Q 40 50 45 45 L 75 15"></path>
                <path class="error-path2 color" d="M 30 10 Q 40 10 45 15 L 75 45"></path>
            </svg>
        </script>
        <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.99.0/js/materialize.min.js"></script>
        <script type="text/javascript">
            (function($){
                $(function(){
                    $('.button-collapse').sideNav();
                    var loadingPosition = 'right';
                    var circularRight, circleRight, infinityRight;
                    initLoading();
                    $("input[type=radio][name=position]").change(function(e){
                        console.log("Changed "+this.value);
                        loadingPosition = this.value;
                        resetLoading();
                    });

                    function initLoading(){
                        circularRight = initializeLoading('.circular-demo', { position: loadingPosition });
                        circleRight = initializeLoading('.circle-demo', {type: "circle", position: loadingPosition} );
                        infinityRight = initializeLoading('.infinity-demo', {type: "infinity", position: loadingPosition} );

                        $(".stop-all-1").click(function(e){
                            e.preventDefault();
                            circularRight.triggerSuccess();
                            circleRight.triggerFail();
                            infinityRight.triggerSuccess();
                        });
                    }

                    function resetLoading(){
                       
                        var btns = $('.demo-button');
                        var allPos = ['right', 'left', 'top', 'bottom', 'inline'];
                        btns.each(function(i, b){
                            allPos.forEach(function(p){
                                if(p !== loadingPosition){
                                    removeClass(b, p);
                                }
                            });
                            console.log("Addd class "+ loadingPosition);
                            addClass(b, loadingPosition);
                        });
                    }
                }); // end of document ready
            })(jQuery); // end of jQuery name space
        </script>
    </body>
</html>